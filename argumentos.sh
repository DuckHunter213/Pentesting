
arguments() {
    echo "" > ${Temporary}/empty.txt
    #Reaver es una de las herramientas de las que depende el script, no es un comando bash,
    reaver -i $mon -b "$BSSID" -c "$CHANNEL" -e "$ESSID" -vvv -n -L -P -s ${Temporary}/empty.txt > ${Temporary}/Reaver.txt &
    ReaverID=$!
    #disown termina las funciones que realiza ReaverID sin cerrar la consola, otros comando al terminarlo cierran la consola
    disown $ReaverID
    #cat obtiene los contenidos de varios archivos, los concatena y los muestra secuencialmente
    e=`cat ${Temporary}/Reaver.txt | grep PKE: | cut -d' ' -f3 | sed -n 1p 2> /dev/null`
    r=`cat ${Temporary}/Reaver.txt | grep PKR: | cut -d' ' -f3 | sed -n 1p 2> /dev/null`
    s=`cat ${Temporary}/Reaver.txt | grep E-Hash1: | cut -d' ' -f3 | sed -n 1p 2> /dev/null`
    z=`cat ${Temporary}/Reaver.txt | grep E-Hash2: | cut -d' ' -f3 | sed -n 1p 2> /dev/null`
    a=`cat ${Temporary}/Reaver.txt | grep AuthKey: | cut -d' ' -f3 | sed -n 1p 2> /dev/null`
    n=`cat ${Temporary}/Reaver.txt | grep E-Nonce: | cut -d' ' -f3 | sed -n 1p 2> /dev/null`
    m=`cat ${Temporary}/Reaver.txt | grep R-Nonce: | cut -d' ' -f3 | sed -n 1p 2> /dev/null`
    WPS=`cat ${Temporary}/Reaver.txt | grep 'WPS PIN'`
    echo ""
    echo -e "${White} +${Yellow}------------------------------${White}+"
    echo -e "${Yellow} |${White} [${Red}+${White}]$Yellow all required arguments${Yellow}   |"
    echo -e "${White} +${Yellow}------------------------------${White}+"
    echo ""
    v=0
    #Esta variable es modificada en la línea 2723 *aproximadamente, depende cómo formatees el texto
    Quit=0
    
    while [ $v == 0 ] && [ $Quit == 0 ] #Reaver
    do
        #Hace ping al modem (?)
        n=`cat ${Temporary}/Reaver.txt | grep 'Trying pin' 2> /dev/null`
        p=`cat ${Temporary}/Reaver.txt | wc -l 2> /dev/null`
        #si el ping obtuvo algo, pero registra el valor de v=1
        if [ "$n" != "" ]
        then
            echo ""
            echo -en "\033[1A\033[2K"
            t=`cat ${Temporary}/Reaver.txt | sed -n $p'p' | cut -c 4- 2> /dev/null`
            echo -ne "$White [+]$Green$t"
            v=1
        else
            #si no obtuvo nada, lo registra
            t=`cat ${Temporary}/Reaver.txt | sed -n $p'p' | cut -c 4- 2> /dev/null`
            echo -ne "\r$White [+]$Red $t"
            v=0
        fi
        #el fi de arriba es el fin del condicional if
    done
    #Aqui empieza una funcion
    BTN () {
        if [ $Quit == 0 ]
        then
            echo ""
            sleep 0.2
            v=0
        fi
    }
    BTN
    while [ $v == 0 ] && [ $Quit == 0 ] #E-Nonce
    do
        n=`cat ${Temporary}/Reaver.txt | grep E-Nonce: | cut -d' ' -f3 | sed -n 1p 2> /dev/null`
        if [ "$n" != "" ]
        then
            echo ""
            echo -en "\033[1A\033[2K"
            echo -ne "$White [+] E-Nonce: ${Green}$n"
            v=1
        else
            echo -ne "\r$White [+] E-Nonce:$Red Waiting for packet"
            v=0
        fi
    done
    BTN
    while [ $v == 0 ] && [ $Quit == 0 ] #PKE
    do
        e=`cat ${Temporary}/Reaver.txt | grep PKE: | cut -d' ' -f3 | sed -n 1p 2> /dev/null`
        if [ "$e" != "" ]
        then
            echo ""
            echo -en "\033[1A\033[2K"
            echo -ne "$White [+] PKE: ${Green}$e"
            v=1
        else
            echo -ne "\r$White [+] PKE:$Red Waiting for packet"
            v=0
        fi
    done
    BTN
    while [ $v == 0 ] && [ $Quit == 0 ] #R-Nonce
    do
        m=`cat ${Temporary}/Reaver.txt | grep R-Nonce: | cut -d' ' -f3 | sed -n 1p 2> /dev/null`
        if [ "$m" != "" ]
        then
            echo ""
            echo -en "\033[1A\033[2K"
            echo -ne "$White [+] R-Nonce: ${Green}$m"
            v=1
        else
            echo -ne "\r$White [+] R-Nonce:$Red Waiting for packet"
            v=0
        fi
    done
    BTN
    while [ $v == 0 ] && [ $Quit == 0 ] #PKR
    do
        r=`cat ${Temporary}/Reaver.txt | grep PKR: | cut -d' ' -f3 | sed -n 1p 2> /dev/null`
        if [ "$r" != "" ]
        then
            echo ""
            echo -en "\033[1A\033[2K"
            echo -ne "$White [+] PKR: ${Green}$r"
            v=1
        else
            echo -ne "\r$White [+] PKR:$Red Waiting for packet"
            v=0
        fi
    done
    BTN
    while [ $v == 0 ] && [ $Quit == 0 ] #AuthKey
    do
        a=`cat ${Temporary}/Reaver.txt | grep AuthKey: | cut -d' ' -f3 | sed -n 1p 2> /dev/null`
        if [ "$a" != "" ]
        then
            echo ""
            echo -en "\033[1A\033[2K"
            echo -ne "$White [+] AuthKey: ${Green}$a"
            v=1
        else
            echo -ne "\r$White [+] AuthKey:$Red Waiting for packet"
            v=0
        fi
    done
    BTN
    while [ $v == 0 ] && [ $Quit == 0 ] #E-Hash1
    do
        s=`cat ${Temporary}/Reaver.txt | grep E-Hash1: | cut -d' ' -f3 | sed -n 1p 2> /dev/null`
        if [ "$s" != "" ]
        then
            echo ""
            echo -en "\033[1A\033[2K"
            echo -ne "$White [+] E-Hash1: ${Green}$s"
            v=1
        else
            echo -ne "\r$White [+] E-Hash1:$Red Waiting for packet"
            v=0
        fi
    done
    BTN
    while [ $v == 0 ] && [ $Quit == 0 ] #E-Hash2
    do
        z=`cat ${Temporary}/Reaver.txt | grep E-Hash2: | cut -d' ' -f3 | sed -n 1p 2> /dev/null`
        if [ "$z" != "" ]
        then
            echo ""
            echo -en "\033[1A\033[2K"
            echo -ne "$White [+] E-Hash2: ${Green}$z"
            v=1
        else
            echo -ne "\r$White [+] E-Hash2:$Red Waiting for packet"
            v=0
        fi
    done
    sleep 0.2
    echo ""
    echo ""
    if [ "$BI" -eq "0" ]
    then
        echo -e "${White} +${Yellow}-------------------------------------------${White}+"
        echo -e "${Yellow} |${White} [${Red}+${White}]${Yellow} Information about Access Point (AP)   |"
        echo -e "${White} +${Yellow}-------------------------------------------${White}+"
        echo ""
        echo -e "$White [+] ESSID: $Green$ESSID"
        sleep 0.2
        echo -e "$White [+] BSSID: $Green$BSSID "
        sleep 0.2
        echo -e "$White [+] Channel: $Green$CHANNEL "
        sleep 0.2
        if [ "$menu" -ne 1 ]
        then
            echo -e "$White [+] Encryption:$Green $PRIVACY"
            sleep 0.2
            echo -e "$White [+] Speed:$Green$SPEED"
        fi
        Manufacturer=`cat ${Temporary}/Reaver.txt | grep Manufacturer: | cut -d' ' -f2- | sed  -n 1p 2> /dev/null`
        Model_Name=`cat ${Temporary}/Reaver.txt | grep Name: | cut -d' ' -f2- | sed -n 1p 2> /dev/null`
        Model_Number=`cat ${Temporary}/Reaver.txt | grep 'Model Number:' | cut -d' ' -f2- | sed -n 1p 2> /dev/null`
        Serial_Number=`cat ${Temporary}/Reaver.txt | grep 'Serial Number:' | cut -d' ' -f2- | sed -n 1p 2> /dev/null`
        echo -e "$White [+] $Manufacturer"
        sleep 0.2
        echo -e "$White [+] $Model_Name"
        sleep 0.2
        echo -e "$White [+] $Model_Number"
        sleep 0.2
        echo -e "$White [+] $Serial_Number"
        sleep 0.2
        echo ""
        sleep 0.2
    fi
    kill -9 $ReaverID 2> /dev/null
}
